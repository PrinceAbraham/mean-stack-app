{"_id":"useref","_rev":"27-24925b81b6eebf8b73adea718e7cae60","name":"useref","time":{"modified":"2016-03-25T02:09:06.035Z","created":"2014-01-15T12:36:03.043Z","0.0.1":"2014-01-15T12:36:03.043Z","0.1.0":"2014-02-02T00:10:50.979Z","0.2.0":"2014-03-27T09:50:02.423Z","0.2.1":"2014-04-12T07:31:27.382Z","0.2.2":"2014-04-12T17:42:23.559Z","0.2.3":"2014-04-13T08:53:45.911Z","0.2.4":"2014-04-13T08:56:06.405Z","0.2.5":"2014-04-14T08:11:05.920Z","0.2.6":"2014-04-14T08:18:38.627Z","0.3.0":"2014-04-17T08:11:48.955Z","1.0.0":"2015-11-21T04:14:53.731Z","1.1.0":"2015-11-23T12:21:44.620Z","1.1.1":"2015-12-28T04:11:38.666Z","1.1.2":"2016-01-07T03:19:52.685Z","1.2.0":"2016-03-25T02:09:06.035Z"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"dist-tags":{"latest":"1.2.0"},"description":"Parse build blocks in HTML files to replace references","readme":"# useref [![Build Status](https://travis-ci.org/jonkemp/useref.svg?branch=master)](https://travis-ci.org/jonkemp/useref) [![Coverage Status](https://coveralls.io/repos/jonkemp/useref/badge.svg?branch=master&service=github)](https://coveralls.io/github/jonkemp/useref?branch=master)\n\n[![NPM](https://nodei.co/npm/useref.png?downloads=true)](https://nodei.co/npm/useref/)\n\n> Parse build blocks in HTML files to replace references\n\nExtracted from the grunt plugin [grunt-useref](https://github.com/pajtai/grunt-useref).\n\n## Installation\n\n```\nnpm install useref\n```\n\n## Usage\n\n```js\nvar useref = require('useref');\nvar result = useref(inputHtml);\n// result = [ replacedHtml, { type: { path: { 'assets': [ replacedFiles] }}} ]\n```\n\n\nBlocks are expressed as:\n\n```html\n<!-- build:<type>(alternate search path) <path> <parameters> -->\n... HTML Markup, list of script / link tags.\n<!-- endbuild -->\n```\n\n- **type**: either `js`, `css` or `remove`\n- **alternate search path**: (optional) By default the input files are relative to the treated file. Alternate search path allows one to change that\n- **path**: the file path of the optimized file, the target output\n- **parameters**: extra parameters that should be added to the tag\n\nAn example of this in completed form can be seen below:\n\n```html\n<html>\n<head>\n  <!-- build:css css/combined.css -->\n  <link href=\"css/one.css\" rel=\"stylesheet\">\n  <link href=\"css/two.css\" rel=\"stylesheet\">\n  <!-- endbuild -->\n</head>\n<body>\n  <!-- build:js scripts/combined.js -->\n  <script type=\"text/javascript\" src=\"scripts/one.js\"></script>\n  <script type=\"text/javascript\" src=\"scripts/two.js\"></script>\n  <!-- endbuild -->\n\n  <!-- build:js scripts/async.js async data-foo=\"bar\" -->\n  <script type=\"text/javascript\" src=\"scripts/three.js\"></script>\n  <script type=\"text/javascript\" src=\"scripts/four.js\"></script>\n  <!-- endbuild -->\n</body>\n</html>\n```\n\nThe module would be used with the above sample HTML as follows:\n\n```js\nvar result = useref(sampleHtml);\n\n// [\n//   resultHtml,\n//   {\n//     css: {\n//       'css/combined.css': {\n//         'assets': [ 'css/one.css', 'css/two.css' ]\n//       }\n//     },\n//     js: {\n//       'scripts/combined.js': {\n//         'assets': [ 'scripts/one.js', 'scripts/two.js' ]\n//       },\n//       'scripts/async.js': {\n//          'assets': [ 'scripts/three.js', 'scripts/four.js' ]\n//        }\n//     }\n//   }\n// ]\n```\n\n\nThe resulting HTML would be:\n\n```html\n<html>\n<head>\n  <link rel=\"stylesheet\" href=\"css/combined.css\"/>\n</head>\n<body>\n  <script src=\"scripts/combined.js\"></script>\n  <script src=\"scripts/async.js\" async data-foo=\"bar\" ></script>\n</body>\n</html>\n```\n\n## IE Conditional Comments\n\nInternet Explorer Conditional Comments are preserved. The code below:\n\n```html\n<!-- build:js scripts/combined.js   -->\n<!--[if lt IE 9]>\n<script type=\"text/javascript\" src=\"scripts/this.js\"></script>\n<script type=\"text/javascript\" src=\"scripts/that.js\"></script>\n<![endif]-->\n<!-- endbuild -->\n```\n\nResults in:\n\n```html\n<!--[if lt IE 9]>\n<script src=\"scripts/combined.js\"></script>\n<![endif]-->\n```\n\n### Custom blocks\n\nSometimes you need a bit more. If you would like to do custom processing, this is possible with a custom block, as demonstrated below.\n\n```html\n<!-- build:import components -->\n<link rel=\"import\" href=\"/bower_components/some/path\"></link>\n<!-- endbuild -->\n```\n\nWith\n\n```js\nvar useref = require('useref');\nvar result = useref(inputHtml, {\n  // each property corresponds to any blocks with the same name, e.g. \"build:import\"\n  import: function (content, target, options, alternateSearchPath) {\n    // do something with `content` and return the desired HTML to replace the block content\n    return content.replace('bower_components', target);\n  }\n});\n```\n\nBecomes\n\n```html\n<link rel=\"import\" href=\"/components/some/path\"></link>\n```\n\nThe handler function gets the following arguments:\n\n- *content* (String): The content of the custom use block\n- *target* (String): The \"path\" value of the use block definition\n- *options* (String): The extra attributes from the use block definition, the developer can parse as JSON or do whatever they want with it\n- *alternateSearchPath* (String): The alternate search path that can be used to maintain a coherent interface with standard handlers\n\nInclude a handler for each custom block type.\n\n### Options\n\n#### options.noconcat\n\nType: `Boolean`  \nDefault: `false`  \n\nStrips out build comments but leaves the rest of the block intact without replacing any tags.\n\n```html\n<!-- build:js scripts/combined.js   -->\n<script type=\"text/javascript\" src=\"scripts/this.js\"></script>\n<script type=\"text/javascript\" src=\"scripts/that.js\"></script>\n<!-- endbuild -->\n```\n\nResults in:\n\n```html\n<script type=\"text/javascript\" src=\"scripts/this.js\"></script>\n<script type=\"text/javascript\" src=\"scripts/that.js\"></script>\n```\n\n## Contributing\n\nSee the [CONTRIBUTING Guidelines](https://github.com/jonkemp/useref/blob/master/CONTRIBUTING.md)\n\n## License\n\nMIT Â© [Jonathan Kemp](http://jonkemp.com)\n","versions":{"1.0.0":{"name":"useref","version":"1.0.0","description":"Parse build blocks in HTML files to replace references","main":"index.js","directories":{"test":"test"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha"},"files":["index.js"],"keywords":["build","blocks","build","comments","replace","scripts","link","ref"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","devDependencies":{"chai":"^3.4.1","mocha":"*"},"repository":{"type":"git","url":"git+https://github.com/jonkemp/useref.git"},"gitHead":"8885c40a237c9540d1c89511b768c6ff4307423c","bugs":{"url":"https://github.com/jonkemp/useref/issues"},"homepage":"https://github.com/jonkemp/useref#readme","_id":"useref@1.0.0","_shasum":"53554fe73ea55b6a87022f82d5c8ee51a7e46fbf","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"dist":{"shasum":"53554fe73ea55b6a87022f82d5c8ee51a7e46fbf","tarball":"https://registry.npmjs.org/useref/-/useref-1.0.0.tgz"}},"1.1.0":{"name":"useref","version":"1.1.0","description":"Parse build blocks in HTML files to replace references","main":"index.js","directories":{"test":"test"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","coverage":"nyc npm test && nyc report","coveralls":"nyc npm test && nyc report --reporter=text-lcov | coveralls"},"files":["index.js"],"keywords":["build","blocks","build","comments","replace","scripts","link","ref"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","devDependencies":{"chai":"^3.4.1","coveralls":"^2.11.4","mocha":"*","nyc":"^3.2.2"},"repository":{"type":"git","url":"git+https://github.com/jonkemp/useref.git"},"gitHead":"2d7c2db5053df68b755f71c5607466438c3867e6","bugs":{"url":"https://github.com/jonkemp/useref/issues"},"homepage":"https://github.com/jonkemp/useref#readme","_id":"useref@1.1.0","_shasum":"c891815c6e1a946a94a99c2569aba642f1893c49","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"dist":{"shasum":"c891815c6e1a946a94a99c2569aba642f1893c49","tarball":"https://registry.npmjs.org/useref/-/useref-1.1.0.tgz"}},"1.1.1":{"name":"useref","version":"1.1.1","description":"Parse build blocks in HTML files to replace references","main":"index.js","directories":{"test":"test"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","coverage":"nyc npm test && nyc report","coveralls":"nyc npm test && nyc report --reporter=text-lcov | coveralls"},"files":["index.js"],"keywords":["build","blocks","build","comments","replace","scripts","link","ref"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","devDependencies":{"chai":"^3.4.1","coveralls":"^2.11.4","gulp":"^3.9.0","gulp-eslint":"^1.1.1","gulp-mocha":"^2.2.0","mocha":"*","nyc":"^3.2.2"},"repository":{"type":"git","url":"git+https://github.com/jonkemp/useref.git"},"gitHead":"11ab8ad3b50e6f4a71917502221c480e446df66d","bugs":{"url":"https://github.com/jonkemp/useref/issues"},"homepage":"https://github.com/jonkemp/useref#readme","_id":"useref@1.1.1","_shasum":"e19cb68ee5ac167fde6885448f1f871578c78bb1","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"dist":{"shasum":"e19cb68ee5ac167fde6885448f1f871578c78bb1","tarball":"https://registry.npmjs.org/useref/-/useref-1.1.1.tgz"}},"1.1.2":{"name":"useref","version":"1.1.2","description":"Parse build blocks in HTML files to replace references","main":"index.js","directories":{"test":"test"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","coverage":"nyc npm test && nyc report","coveralls":"nyc npm test && nyc report --reporter=text-lcov | coveralls"},"files":["index.js","lib"],"keywords":["build","blocks","build","comments","replace","scripts","link","ref"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","devDependencies":{"chai":"^3.4.1","coveralls":"^2.11.4","gulp":"^3.9.0","gulp-eslint":"^1.1.1","gulp-mocha":"^2.2.0","mocha":"*","nyc":"^3.2.2"},"repository":{"type":"git","url":"git+https://github.com/jonkemp/useref.git"},"gitHead":"6bd1ea3b76143bc5949f42d362cfa66b53919b71","bugs":{"url":"https://github.com/jonkemp/useref/issues"},"homepage":"https://github.com/jonkemp/useref#readme","_id":"useref@1.1.2","_shasum":"9ceed6999a451851bf9b0779623df1994b1b44b9","_from":".","_npmVersion":"2.14.7","_nodeVersion":"4.2.2","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"dist":{"shasum":"9ceed6999a451851bf9b0779623df1994b1b44b9","tarball":"https://registry.npmjs.org/useref/-/useref-1.1.2.tgz"}},"1.2.0":{"name":"useref","version":"1.2.0","description":"Parse build blocks in HTML files to replace references","main":"index.js","directories":{"test":"test"},"engines":{"node":">=0.10.0"},"scripts":{"test":"mocha","coverage":"nyc npm test && nyc report","coveralls":"nyc npm test && nyc report --reporter=text-lcov | coveralls"},"files":["index.js","lib"],"keywords":["build","blocks","build","comments","replace","scripts","link","ref"],"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"license":"MIT","devDependencies":{"chai":"^3.4.1","coveralls":"^2.11.4","gulp":"^3.9.0","gulp-eslint":"^1.1.1","gulp-mocha":"^2.2.0","mocha":"*","nyc":"^3.2.2"},"repository":{"type":"git","url":"git+https://github.com/jonkemp/useref.git"},"gitHead":"517bcc4f3e1fa566b45bd59b493de1e7a4523a1e","bugs":{"url":"https://github.com/jonkemp/useref/issues"},"homepage":"https://github.com/jonkemp/useref#readme","_id":"useref@1.2.0","_shasum":"7a9d7beedbce9845cb0d1438c05b3a0fb8621d22","_from":".","_npmVersion":"3.6.0","_nodeVersion":"5.7.0","_npmUser":{"name":"jonkemp","email":"kempdogg@gmail.com"},"maintainers":[{"name":"jonkemp","email":"kempdogg@gmail.com"}],"dist":{"shasum":"7a9d7beedbce9845cb0d1438c05b3a0fb8621d22","tarball":"https://registry.npmjs.org/useref/-/useref-1.2.0.tgz"},"_npmOperationalInternal":{"host":"packages-12-west.internal.npmjs.com","tmp":"tmp/useref-1.2.0.tgz_1458871743488_0.7934010392054915"}}},"homepage":"https://github.com/jonkemp/useref#readme","keywords":["build","blocks","build","comments","replace","scripts","link","ref"],"repository":{"type":"git","url":"git+https://github.com/jonkemp/useref.git"},"author":{"name":"Jonathan Kemp","email":"kempdogg@gmail.com","url":"http://jonkemp.com/"},"bugs":{"url":"https://github.com/jonkemp/useref/issues"},"license":"MIT","readmeFilename":"README.md","users":{"rubiadias":true},"_attachments":{},"_etag":"\"38807JVFX9699I2H7J3JZ680K\""}
